var errors = function(answer_id) {
  return $('#' + answer_id + '.answer-errors');
};

<% if @answer.errors.present? %>
  var field_with_errors = $('#edit_answer_' + '<%= @answer.id %>' + '.edit_answer .form-group');

  errors(<%= @answer.id %>).html('<%= render_errors_for(@answer, remotipart_submitted?) %>');
  field_with_errors.addClass('field_with_errors');
<% elsif response.status == 200 %>
  var answer = $('div#answer_' + '<%= @answer.id %>');

  answer.html('<%= render_resource(@answer, remotipart_submitted?) %>');
  errors(<%= @answer.id %>).empty();
<% end %>

$('.flash').html('<%= bootstrap_flash %>');
<% flash.discard %>
